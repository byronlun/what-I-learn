<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>cors</title>
</head>
<body>
	<p>hello cors</p>
	<script>
		console.log('test cors');
		function after() {
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function() {
				if(xhr.readystate === 4) {
					if(xhr >= 200 && xhr.status <=304) {
						console.log(xhr.responeText);
						console.log('success');
					} else {
						console.log(xhr.status);
					}
				}
			}
			xhr.open('get', 'http://127.0.0.1:3030', true);
			//默认发送Origin就是本客户端的ip地址,不用设置,因为这是不允许的
			//xhr.setRequestHeader('Origin', 'http://127.0.0.1:54615')
			xhr.send(null);
		}
		setTimeout(after, 2000);
	</script>
</body>
</html>
